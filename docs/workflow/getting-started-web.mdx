---
title: Web Applications SDK
---

The Geocortex Workflow for Web Applications SDK consists of a typescript project that eases development of workflow activities and custom form elements. It produces a [workflow activity pack](concepts-activity-packs) that can be consumed by web applications that use workflow.

## Download

You can download the Workflow Activity SDK for typescript [here.](https://apps.geocortex.com/workflow/latest/activity-sdk.zip)

## Requirements

-   [Node.js](https://nodejs.org/en/) version 6.11.0 or newer.
    -   Run `node -v` in the terminal to confirm the version.
-   [NPM](https://www.npmjs.com/get-npm) version 3.10.10 or newer.
    -   Run `npm -v` in the terminal to confirm the version.
-   [Visual Studio Code](https://code.visualstudio.com/) version 1.15 or newer.
    -   Note: This document assumes that Visual Studio Code is the development environment; however, it is possible to develop workflow activities with Visual Studio or other command line tools.

## Setup

1. Start Visual Studio Code.
1. Select `Open Folder...` and choose the `activity-sdk` folder.
1. Open the integrated terminal using `` CTRL+` ``
    - Or from the **View** > **Integrated Terminal** menu.
1. Run `npm install` in the terminal to install the project's dependencies.

## Building

Run `npm run build` in the terminal to compile the TypeScript project.

-   The `dist` folder will contain the compiled activity pack output.

:::tip
Check out [Implement Custom Activities for Web Applications](web-implement-custom-activity) to learn how to make activities for your activity pack
:::

## Deployment

TODO - not sure if these are valid deployment instructions anymore - try them out

## Deploy the Activity Pack

Activity packs must be hosted by a web server that supports SSL and CORS.
Ensure your server:

-   Has a valid SSL certificate.
-   Supports [Cross-Origin Resource Sharing (CORS)](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing) and allows CORS requests from the `https://apps.geocortex.com` origin.
    -   Note: If you sign in to Workflow Designer using Portal for ArcGIS your server will need to allow CORS requests from your custom origin. For example, `https://acme.apps.geocortex.com`.

This allows:

-   Workflow Designer to read the list of custom activities and their metadata from the source .ts files (or source maps).
-   Applications to execute the custom activities at runtime using the output .js files.

There are several hosting options:

### Development Web Server

This project includes an [Express](https://www.npmjs.com/package/express) web server that supports SSL and is suitable for most development purposes.

To start the development web server and enable a compile-on-save watch task:

1. Run `npm start` in the terminal to start the build and the development web server.
    - Note: You can press `CTRL+C` in the terminal to stop the watch and the development web server.

-   The development web server is only available while the `start` task is running.
-   The development web server is available at https://localhost:57999/ by default.
    -   You can change the port by modifying `.build/tsc.js`. Edit the first line:  
        `var PORT = 57999;`
-   The development web server serves the content of the `dist` directory.
-   The SSL certificate of the development web server is not valid. To work around this, do one of the following:
    -   Open https://localhost:57999/ in a web browser and allow the invalid certificate as an exception.
    -   Trust the `.build/ca.crt` file (add it to your Trusted Root Authority store).
    -   Replace the `.build/localhost.crt` and `.build/localhost.key` files with a known valid certificate.
-   The development web server supports CORS requests from any origin by default.

### IIS

1. Ensure the IIS web site supports SSL and uses a valid SSL certificate.
1. Ensure the web site or application supports CORS and allows CORS requests from the `https://apps.geocortex.com` origin.
1. Do one of the following:

    - Register the `dist` folder as a virtual directory or application in IIS.
    - Create a virtual directory or application in IIS and copy the contents of the `dist` folder into it.

### Another Web Server

1. Ensure the web server supports SSL and uses a valid SSL certificate.
1. Ensure the web server supports CORS and allows CORS requests from the `https://apps.geocortex.com` origin.
1. Copy the contents of the `dist` folder to a virtual directory on the web server.

## Register the Activity Pack

To make an activity pack available to workflow authors in Workflow Designer you must create a special item in ArcGIS Online or Portal for ArcGIS that references it.

1. Sign in to ArcGIS Online or Portal for ArcGIS (using the same account that you use to author workflows).
1. Go to **My Content**.
1. Select **Add Item** > **An application**.
    - Type: `Web Mapping`.
    - Purpose: `Ready To Use`.
    - API: `JavaScript`.
    - URL: The URL to your activity pack.
        - Use https://localhost:57999/ for the development server.
    - Title: Your desired title.
    - Tags: Must include `geocortex-workflow-activity-pack`.
